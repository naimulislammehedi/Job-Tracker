<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Tracker</title>


    <!-- Tailwind CSS: Utility-first framework for rapid UI development.
         We include it via CDN to avoid local setup and keep the demo lightweight.
         It provides classes like flex, grid, padding, colors, etc. -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>


    <!-- Lucide Icons: A clean, consistent icon set. We load the library to use icons like trash-2, map-pin, etc.
         The script exposes a global `lucide` object used later to create icons. -->
    <script src="https://unpkg.com/lucide@latest"></script>


    <!-- FONT AWESOME CDN -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->


    <style>
        /* Custom CSS to complement Tailwind.
           @import loads the Geist font for a modern, readable typeface. */
        @import url('https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap');


        body {
            font-family: "Geist", sans-serif;
            /* Apply Geist as the default font */
            background-color: #f8fafc;
            /* Light background for overall page */
        }


        /* Utility class for active tab styling (used in JavaScript) */
        .active-tab {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>


<body class="p-4 md:p-8">
    <!-- Main container: max width and centered on large screens.
         Padding responsive: p-4 on mobile, p-8 on medium+ -->
    <div class="max-w-6xl mx-auto">
        <!-- Header Section: Application Title -->
        <header class="mb-8">
            <h1 class="text-2xl font-bold text-slate-800">Job Application Tracker</h1>
        </header>


        <!-- Dashboard Stats Section
             - Purpose: Give user a quick overview of total applications, interviews, and rejections.
             - Layout: Grid that stacks on mobile (1 column) and becomes 3 columns on desktop (md:grid-cols-3).
             - Why: Visual feedback at a glance; motivates action.
        -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <!-- Total Card -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-100">
                <p class="text-sm font-medium text-slate-500 mb-1">Total</p>
                <p id="stat-total" class="text-3xl font-bold text-blue-900">0</p> <!-- Dynamic count updated via JS -->
            </div>
            <!-- Interview Card -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-100">
                <p class="text-sm font-medium text-slate-500 mb-1">Interview</p>
                <p id="stat-interview" class="text-3xl font-bold text-emerald-500">0</p>
            </div>
            <!-- Rejected Card -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-100">
                <p class="text-sm font-medium text-slate-500 mb-1">Rejected</p>
                <p id="stat-rejected" class="text-3xl font-bold text-rose-500">0</p>
            </div>
        </section>


        <!-- Main Content Header
             Contains "Available Jobs" title and a dynamic job count badge.
             The count reflects the number of jobs currently visible (based on filter).
        -->
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-lg font-bold text-slate-800">Available Jobs</h2>
            <span id="job-count-badge" class="text-sm text-slate-500">0 jobs</span> <!-- Updated by updateStats() -->
        </div>


        <!-- Tab Controls
             - Allow filtering the job list by status: All, Interview, Rejected.
             - Tabs are buttons with click handlers. Active tab gets blue background/white text.
             - Border-bottom separates tabs from content.
        -->
        <div class="flex space-x-2 mb-8 border-b border-slate-200 pb-4">
            <button onclick="setFilter('all')" id="tab-all"
                class="px-4 py-1.5 rounded-md text-sm font-medium transition-colors bg-blue-600 text-white">All</button>
            <button onclick="setFilter('interview')" id="tab-interview"
                class="px-4 py-1.5 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Interview</button>
            <button onclick="setFilter('rejected')" id="tab-rejected"
                class="px-4 py-1.5 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Rejected</button>
        </div>


        <!-- Jobs List Container
             This div will be populated dynamically by JavaScript with job cards or an empty state message.
        -->
        <div id="jobs-container" class="space-y-4">
            <!-- Injected content goes here -->
        </div>
    </div>


    <script>
        // ----- INITIAL DATA -----
        // Jobs array holds all application entries. Each job has an id, company, position, location, type,
        // salary, description, and status. The status can be 'applied' (default), 'interview', or 'rejected'.
        // We chose AI/tech related jobs to align with user's focus.
        let jobs = [{
            id: 1,
            company: "Mobile First Corp",
            position: "React Native Developer",
            location: "Remote &#8226; Full-time ",
            type: "Full-time",
            salary: "$140,000 - $185,000",
            description: "Build cross-platform mobile applications using React Native. Work on products used by millions of users worldwide.",
            status: "Not Applied"
        },
        {
            id: 2,
            company: "CyberShield Tech",
            position: "Cyber Security Analyst",
            location: "San Francisco, CA",
            type: "Full-time",
            salary: "$120,000 - $160,000",
            description: "Monitor network traffic for security breaches and investigate a violation when one occurs. Lead incident response.",
            status: "applied"
        },
        {
            id: 3,
            company: "Visionary Dynamics",
            position: "React Developer",
            location: "Austin, TX",
            type: "Contract",
            salary: "$90,000 - $115,000",
            description: "Build scalable and responsive user interfaces for our predictive analytics dashboard using React and Tailwind.",
            status: "applied" },
        {
            id: 4,
            company: "CloudGuard Solutions",
            position: "DevSecOps Specialist",
            location: "Remote",
            type: "Full-time",
            salary: "$135,000 - $170,000",
            description: "Integrate security tools into the CI/CD pipeline and manage cloud infrastructure on AWS and GCP.",
            status: "applied"
        },
        {
            id: 5,
            company: "Quantum Logic",
            position: "Data Scientist",
            location: "Boston, MA",
            type: "Part-time",
            salary: "$70,000 - $95,000",
            description: "Analyze complex datasets to identify trends and develop algorithms that predict market shifts in real-time.",
            status: "applied"
        },
        {
            id: 6,
            company: "Ethical Hackers Inc",
            position: "Penetration Tester",
            location: "London, UK",
            type: "Full-time",
            salary: "£85,000 - £110,000",
            description: "Perform authorized simulated attacks on computer systems to evaluate security and identify vulnerabilities.",
            status: "applied"
        },
        {
            id: 7,
            company: "DeepStream AI",
            position: "Computer Vision Engineer",
            location: "Remote",
            type: "Full-time",
            salary: "$150,000 - $190,000",
            description: "Develop real-time object detection and tracking systems for autonomous vehicle navigation platforms.",
            status: "applied" },
        {
            id: 8,
            company: "SecureNode",
            position: "Blockchain Security Engineer",
            location: "Singapore",
            type: "Full-time",
            salary: "$130,000 - $175,000",
            description: "Audit smart contracts and develop security protocols for decentralized financial applications.",
            status: "applied" }
        ];


        // Current filter state: 'all' shows all jobs; 'interview' or 'rejected' filter by status.
        let currentFilter = 'all';


        // ----- LUCIDE ICON INITIALIZATION -----
        // This function scans the DOM for elements with data-lucide attributes and replaces them with SVG icons.
        // Called after rendering new content to ensure icons appear.
        function refreshIcons() {
            lucide.createIcons();
        }


        // ----- UPDATE STATS DASHBOARD -----
        // Purpose: Recalculate total, interview, rejected counts from jobs array and update the UI.
        // Also updates the job count badge based on the current filter.
        function updateStats() {
            const total = jobs.length;
            const interview = jobs.filter(j => j.status === 'interview').length;
            const rejected = jobs.filter(j => j.status === 'rejected').length;


            document.getElementById('stat-total').innerText = total;
            document.getElementById('stat-interview').innerText = interview;
            document.getElementById('stat-rejected').innerText = rejected;


            // Update the "X jobs" text in the header – shows count of jobs matching current filter.
            const filteredCount = currentFilter === 'all' ? total : jobs.filter(j => j.status === currentFilter).length;
            document.getElementById('job-count-badge').innerText = `${filteredCount} jobs`;
        }


        // ----- FILTER HANDLER -----
        // This function is called when a tab is clicked. It updates currentFilter,
        // changes tab button styles, and triggers re-render.
        function setFilter(filter) {
            currentFilter = filter;


            // Update UI classes for the three tab buttons to indicate active state.
            const tabs = ['all', 'interview', 'rejected'];
            tabs.forEach(t => {
                const el = document.getElementById(`tab-${t}`);
                if (t === filter) {
                    // Active tab: blue background, white text
                    el.classList.add('bg-blue-600', 'text-white');
                    el.classList.remove('text-slate-600', 'hover:bg-slate-200');
                } else {
                    // Inactive tab: slate text, hover effect
                    el.classList.remove('bg-blue-600', 'text-white');
                    el.classList.add('text-slate-600', 'hover:bg-slate-200');
                }
            });


            renderJobs(); // Re-render the list with the new filter
        }


        // ----- UPDATE JOB STATUS (INTERVIEW/REJECTED) -----
        // Called when either the "INTERVIEW" or "REJECTED" button on a job card is clicked.
        // It finds the job by id, updates its status to the newStatus (either 'interview' or 'rejected'),
        // then updates stats and re-renders the list to reflect the change (button styles, badge, etc.).
        function updateJobStatus(id, newStatus) {
            const jobIndex = jobs.findIndex(j => j.id === id);
            if (jobIndex !== -1) {
                jobs[jobIndex].status = newStatus;
                updateStats();    // Update dashboard numbers
                renderJobs();     // Re-render to show updated button state
            }
        }


        // ----- DELETE JOB -----
        // Removes the job with the given id from the jobs array, then updates stats and re-renders.
        // Triggered by clicking the trash icon on a job card.
        function deleteJob(id) {
            jobs = jobs.filter(j => j.id !== id);
            updateStats();
            renderJobs();
        }


        // ----- RENDER JOBS LIST -----
        // Core function that builds the HTML for the job cards based on currentFilter.
        // If no jobs match the filter, shows an empty state illustration.
        // After constructing the HTML, it refreshes Lucide icons and updates stats.
        function renderJobs() {
            const container = document.getElementById('jobs-container');
            let filteredJobs = jobs;


            // Apply filter if not 'all'
            if (currentFilter !== 'all') {
                filteredJobs = jobs.filter(j => j.status === currentFilter);
            }


            // Check if filtered list is empty → display empty state
            if (filteredJobs.length === 0) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center py-20 bg-white rounded-lg border border-dashed border-slate-300">
                        <div class="bg-blue-50 p-4 rounded-full mb-4">
                            <i data-lucide="file-text" class="w-12 h-12 text-blue-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800">No jobs available</h3>
                        <p class="text-slate-500">Check back soon for new job opportunities</p>
                    </div>
                `;
            } else {
                // Build HTML for each job using map and join.
                // Each card includes company, position, location, type, salary, description,
                // status badge, and action buttons (Interview/Rejected) with dynamic styling.
                container.innerHTML = filteredJobs.map(job => `
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-all hover:shadow-md relative group">
                        <!-- Header row: company name and delete button -->
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h3 class="text-xl font-bold text-slate-800">${job.company}</h3>
                                <p class="text-slate-500 font-medium">${job.position}</p>
                            </div>
                            <button onclick="deleteJob(${job.id})" class="text-slate-300 hover:text-rose-500 transition-colors">
                                <i data-lucide="trash-2" class="w-5 h-5"></i> <!-- Trash icon -->
                            </button>
                        </div>


                        <!-- Meta info: location, job type, salary with icons -->
                        <div class="flex flex-wrap gap-x-4 gap-y-1 text-sm text-slate-400 mb-4">
                            <span class="flex items-center"><i data-lucide="map-pin" class="w-3.5 h-3.5 mr-1"></i> ${job.location}</span>
                            <span class="flex items-center"><i data-lucide="briefcase" class="w-3.5 h-3.5 mr-1"></i> ${job.type}</span>
                            <span class="flex items-center"><i data-lucide="dollar-sign" class="w-3.5 h-3.5 mr-1"></i> ${job.salary}</span>
                        </div>


                        <!-- Status badge: changes color based on job.status -->
                        <div class="mb-4">
                            <span class="px-3 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${job.status === 'interview' ? 'bg-emerald-50 text-emerald-600' :
                        job.status === 'rejected' ? 'bg-rose-50 text-rose-600' : 'bg-blue-50 text-blue-600'
                    }">
                                ${job.status === 'applied' ? 'NOT APPLIED' : job.status}
                            </span>
                        </div>


                        <!-- Job description -->
                        <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                            ${job.description}
                        </p>


                        <!-- Action buttons: Interview and Rejected.
                             Each button toggles the status. Their styles reflect current status:
                             - If status matches the button, it becomes solid (active)
                             - Otherwise outline style with hover effect.
                        -->
                        <div class="flex space-x-3">
                            <button
                                onclick="updateJobStatus(${job.id}, 'interview')"
                                class="px-4 py-2 border rounded-md text-sm font-semibold transition-all ${job.status === 'interview'
                        ? 'bg-emerald-500 border-emerald-500 text-white shadow-sm'
                        : 'border-emerald-500 text-emerald-600 hover:bg-emerald-50'
                    }">
                                INTERVIEW
                            </button>
                            <button
                                onclick="updateJobStatus(${job.id}, 'rejected')"
                                class="px-4 py-2 border rounded-md text-sm font-semibold transition-all ${job.status === 'rejected'
                        ? 'bg-rose-500 border-rose-500 text-white shadow-sm'
                        : 'border-rose-500 text-rose-600 hover:bg-rose-50'
                    }">
                                REJECTED
                            </button>
                        </div>
                    </div>
                `).join('');
            }


            // After updating the DOM, re-initialize Lucide icons so the new <i> tags become SVGs.
            refreshIcons();
            // Update stats dashboard to reflect any changes (like after delete or status change).
            updateStats();
        }


        // ----- INITIAL LOAD -----
        // When the page finishes loading, render the job list (which also calls updateStats and refreshIcons).
        window.onload = () => {
            renderJobs();
        };
    </script>
</body>


</html>

